# 贪吃蛇游戏需求文档

## 1. 项目概述

### 1.1 项目背景
开发一个基于C++的贪吃蛇游戏，具有多关卡设计和良好的用户界面，提供完整的游戏体验。

### 1.2 项目目标
- 开发一个功能完整的贪吃蛇游戏
- 实现3个不同难度的关卡
- 提供直观的游戏界面和操作方式
- 支持Windows平台，生成可执行文件(.exe)

## 2. 功能需求

### 2.1 核心游戏功能
- **蛇的移动**：玩家通过方向键控制蛇的移动方向
- **食物生成**：游戏区域内随机生成食物
- **碰撞检测**：检测蛇与墙壁、自身的碰撞
- **得分系统**：吃到食物获得分数，分数根据关卡难度加成
- **关卡系统**：实现3个不同难度的关卡
- **游戏状态管理**：支持开始、暂停、继续、重新开始和退出功能

### 2.2 关卡设计

#### 第1关
- **难度**：简单
- **特点**：静态苹果
- **速度**：较慢（150ms/帧）
- **通关条件**：吃到5个苹果

#### 第2关
- **难度**：中等
- **特点**：速度加快
- **速度**：较快（100ms/帧）
- **通关条件**：吃到7个苹果

#### 第3关
- **难度**：困难
- **特点**：苹果缓慢移动
- **速度**：中速（120ms/帧）
- **通关条件**：吃到10个苹果

## 3. 界面需求

### 3.1 开始界面
- 游戏标题显示
- 开始游戏按钮（点击或按空格键开始）
- 关卡说明文字

### 3.2 游戏界面
- 游戏主区域（网格）
- 蛇的显示（头部和身体使用不同颜色）
- 食物的显示
- 侧边栏信息：
  - 游戏标题
  - 当前分数
  - 当前关卡
  - 蛇的长度
  - 关卡进度
  - 游戏状态和操作提示

### 3.3 游戏结束界面
- 游戏结果显示（游戏结束或通关）
- 最终得分和到达关卡
- 重新开始提示

## 4. 控制方式

### 4.1 键盘控制
- **方向键**：控制蛇的移动方向
- **空格键**：开始游戏/暂停/继续
- **R键**：重新开始游戏
- **ESC键**：返回主菜单

### 4.2 鼠标控制
- **点击开始按钮**：开始游戏

## 5. 技术需求

### 5.1 开发环境
- 操作系统：Windows
- 开发工具：Visual Studio
- 编程语言：C++
- 图形API：Windows API (Win32)

### 5.2 项目结构
- 使用单文件结构，便于编译和运行
- 包含必要的头文件和资源

### 5.3 编译要求
- 支持x64平台
- 生成可执行文件(.exe)
- 无需额外依赖项

## 6. 游戏规则

1. 蛇的移动方向只能是上、下、左、右四个方向
2. 蛇不能反向移动（例如，当前向右移动时不能直接向左移动）
3. 吃到食物后，蛇的身体长度增加，分数增加
4. 撞到墙壁或自身时，游戏结束
5. 完成当前关卡的苹果数量要求后，自动进入下一关卡
6. 完成所有3个关卡后，游戏胜利

## 7. 性能需求

- 游戏运行流畅，无明显卡顿
- 界面响应及时，操作延迟低
- 内存占用合理，无内存泄漏

## 8. 扩展需求

- 支持自定义游戏难度（可选）
- 增加音效和背景音乐（可选）
- 实现最高分记录功能（可选）

## 9. 交付物

- 完整的C++源代码
- 可执行文件(.exe)
- 需求文档
- 执行文档